# بوت ديسكورد لإدارة العصابات (Gang Management Discord Bot) - متصل بـ Firebase

هذا البوت مصمم لعرض نقاط ومستويات العصابات **الحية** من قاعدة بيانات Firebase Realtime Database الخاصة بتطبيقك، عند استخدام الأمر `!نقاط`.

## محتويات المشروع

1.  **`bot.py`**: الكود الرئيسي لبوت الديسكورد (Python) **تم تعديله للاتصال بـ Firebase مباشرة**.
2.  **`config.py`**: ملف إعدادات ستحتاج لإضافة رمز البوت (Token) الخاص بك فيه، ويحتوي على رابط Firebase المستخرج من تطبيقك.
3.  **`gang_data.json`**: ملف البيانات الافتراضية (محتفظ به كنسخة احتياطية).
4.  **`README.md`**: ملف التعليمات هذا.

## خطوات الإعداد والتشغيل

### الخطوة 1: الحصول على رمز البوت (Token)

1.  اذهب إلى [بوابة مطوري ديسكورد](https://discord.com/developers/applications).
2.  قم بإنشاء تطبيق جديد أو اختر تطبيق البوت الحالي.
3.  في القائمة الجانبية، اذهب إلى `Bot`.
4.  اضغط على `Reset Token` وقم بنسخ الرمز (Token) الذي يظهر.

### الخطوة 2: إعداد ملف `config.py`

1.  افتح الملف **`config.py`** الموجود في مجلد المشروع.
2.  استبدل القيمة `"YOUR_BOT_TOKEN_HERE"` برمز البوت الذي نسخته في الخطوة السابقة:

    ```python
    BOT_TOKEN = "الرمز الذي نسخته هنا"
    ```

    **ملاحظة هامة حول Firebase:**
    تم استخلاص رابط قاعدة بيانات Firebase الخاصة بك وهو:
    `FIREBASE_URL = "https://gang-war-2-default-rtdb.europe-west1.firebasedatabase.app"`
    
    **لضمان عمل البوت، يجب عليك التأكد من أن قواعد أمان Firebase (Security Rules) تسمح بالوصول للقراءة العامة (public read access) للمسارات التالية:**
    *   `/gangs/list`
    *   `/rewards/levels`
    
    إذا كانت قواعد الأمان مقيدة، لن يتمكن البوت من جلب البيانات الحية.

### الخطوة 3: إضافة البوت إلى السيرفر

1.  في بوابة مطوري ديسكورد، اذهب إلى `OAuth2` ثم `URL Generator`.
2.  في قسم `SCOPES`، اختر `bot`.
3.  في قسم `BOT PERMISSIONS`، اختر الصلاحيات التالية على الأقل:
    *   `Read Messages/View Channels`
    *   `Send Messages`
    *   `Embed Links`
4.  انسخ الرابط الذي تم إنشاؤه في الأسفل والصقه في متصفحك لإضافة البوت إلى سيرفر الديسكورد الخاص بك.

### الخطوة 4: تشغيل البوت

1.  تأكد من تثبيت Python 3.8 أو أحدث.
2.  افتح الطرفية (Terminal) أو موجه الأوامر (Command Prompt).
3.  انتقل إلى مجلد المشروع:

    ```bash
    cd /path/to/gang_app
    ```

4.  قم بتثبيت المكتبات المطلوبة:

    ```bash
    pip install discord python-firebase
    ```

5.  قم بتشغيل البوت:

    ```bash
    python3 bot.py
    ```

    عندما ترى رسالة `البوت جاهز. تم تسجيل الدخول باسم: [اسم البوت]`، فهذا يعني أن البوت يعمل بنجاح.

## استخدام البوت

بمجرد تشغيل البوت وإضافته إلى السيرفر، يمكنك استخدام الأمر التالي في أي قناة نصية:

**`!نقاط`**

سيقوم البوت بالرد برسالة منسقة (Embed) تعرض ترتيب العصابات، مع جلب البيانات **الحية والمحدثة** من قاعدة بيانات Firebase.
